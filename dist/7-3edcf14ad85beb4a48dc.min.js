webpackJsonp([7],{180:function(e,t,o){function i(e){s||o(235)}var s=!1,r=o(45)(o(236),o(237),i,"data-v-058ecdd2",null);r.options.__file="/Users/ransixi/Documents/ilikezu/ilikezu-web/src/views/Login.vue",r.esModule&&Object.keys(r.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),r.options.functional&&console.error("[vue-loader] Login.vue: functional components are not supported with templates, they should use render functions."),e.exports=r.exports},192:function(e,t,o){"use strict";t.__esModule=!0;var i=o(6),s=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=s.default||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e}},193:function(e,t,o){function i(e){s||o(194)}var s=!1,r=o(45)(o(195),o(196),i,null,null);r.options.__file="/Users/ransixi/Documents/ilikezu/ilikezu-web/src/components/barTop.vue",r.esModule&&Object.keys(r.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),r.options.functional&&console.error("[vue-loader] barTop.vue: functional components are not supported with templates, they should use render functions."),e.exports=r.exports},194:function(e,t){},195:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{text:{type:String,required:!0}},methods:{back:function(){this.$router.back()}}}},196:function(e,t,o){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"bar-top"},[o("i",{staticClass:"iconfont icon-back",on:{click:e.back}}),e._v(" "),o("span",[e._v(e._s(e.text))])])},staticRenderFns:[]},e.exports.render._withStripped=!0},197:function(e,t,o){function i(e){s||o(198)}var s=!1,r=o(45)(o(199),o(200),i,"data-v-784d95eb",null);r.options.__file="/Users/ransixi/Documents/ilikezu/ilikezu-web/src/components/barBottom.vue",r.esModule&&Object.keys(r.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),r.options.functional&&console.error("[vue-loader] barBottom.vue: functional components are not supported with templates, they should use render functions."),e.exports=r.exports},198:function(e,t){},199:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(192),s=function(e){return e&&e.__esModule?e:{default:e}}(i),r=o(46);t.default={computed:(0,s.default)({},(0,r.mapState)(["isLogin"]),{path:function(){return this.isLogin?"/personal":"/login"}}),methods:{}}},200:function(e,t,o){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("nav",{staticClass:"bar-bottom"},[o("router-link",{staticClass:"tab-item",attrs:{to:"/home"}},[o("i",{staticClass:"iconfont icon-home1"}),e._v(" "),o("span",{staticClass:"tab-label"},[e._v("主页")])]),e._v(" "),o("router-link",{staticClass:"tab-item",attrs:{to:"/list"}},[o("i",{staticClass:"iconfont icon-viewlist"}),e._v(" "),o("span",{staticClass:"tab-label"},[e._v("分类")])]),e._v(" "),o("router-link",{staticClass:"tab-item",attrs:{to:e.path}},[o("i",{staticClass:"iconfont icon-account"}),e._v(" "),o("span",{staticClass:"tab-label"},[e._v("我的")])])],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},235:function(e,t){},236:function(e,t,o){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=o(7),r=i(s),n=o(192),a=i(n),l=o(197),c=i(l),u=o(193),d=i(u),p=o(29),f=o(46),m=o(4),v=i(m);t.default={data:function(){return{title:"个人中心",mobile:"",imageCode:"",mobileCode:"",disable:!1,message:"获取验证码"}},computed:(0,a.default)({},(0,f.mapState)(["isLogin","imageCodeUrl"])),watch:{isLogin:function(e){e&&this.$router.push("/personal")}},components:{"bar-bottom":c.default,"bar-top":d.default},created:function(){var e=this;this.$nextTick(function(){if(e.isLogin)return e.$router.push("/personal");e.updateImgeCode()})},methods:{updateImgeCode:function(){this.$store.dispatch("GET_IAMGE_CODE")},getMobileCode:function(){var e=this;if(!/^[\d]{11}$/.test(this.mobile))return(0,p.errorTip)("手机号码格式不正确");if(!this.imageCode)return(0,p.errorTip)("请输入图形校验码");if(this.disable)return(0,p.errorTip)("请稍等");var t=this.imageCodeUrl.split("=")[1],o=this.imageCode,i=this.mobile;this.disable=!0,v.default.getMobileCode.get({mobile:i,captcha:o,captchaId:t}).then(function(e){return e.isSuccess?e.data:r.default.reject(e.msg)}).then(function(t){var o=null,i=60;setTimeout(function(){clearInterval(o),e.message="获取验证码",e.disable=!1,e.updateImgeCode()},61e3),o=setInterval(function(){e.message="请等候"+i--+"秒"},1e3)}).catch(function(t){(0,p.errorTip)(t),e.disable=!1})},login:function(){var e=this.mobile,t=this.mobileCode;return/^[\d]{11}$/.test(e)?t?void this.$store.dispatch("LOGIN",{mobile:e,code:t}):(0,p.errorTip)("请输入手机验证码"):(0,p.errorTip)("手机号码格式不正确")},preWeiXinLogin:function(){var e=window.location.href.split("#")[0]+"#/blank/personal";this.$store.dispatch("PRE_WEIXIN",{redirectUrl:e}).then(function(e){if(!e.redirectUrl)return r.default.reject("微信登录失败");window.location.href=e.redirectUrl,console.log(e.redirectUrl)}).catch(p.errorTip)}}}},237:function(e,t,o){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login-page"},[o("bar-top",{attrs:{text:e.title}}),e._v(" "),o("div",{staticClass:"login"},[o("div",{staticClass:"head"},[e._v("手机登录")]),e._v(" "),o("form",[o("div",{staticClass:"form-control"},[o("label",[e._v("手机号:")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.mobile,expression:"mobile"}],attrs:{type:"number",placeholder:"请输入11位手机号"},domProps:{value:e.mobile},on:{input:function(t){t.target.composing||(e.mobile=t.target.value)}}})]),e._v(" "),o("div",{staticClass:"form-control"},[o("label",[e._v("校验码:")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.imageCode,expression:"imageCode"}],attrs:{type:"text",placeholder:"请输入图形校验码"},domProps:{value:e.imageCode},on:{input:function(t){t.target.composing||(e.imageCode=t.target.value)}}}),e._v(" "),o("div",{staticClass:"imagecode-wrapper",on:{click:e.updateImgeCode}},[o("img",{attrs:{src:e.imageCodeUrl,alt:"点击刷新"}})])]),e._v(" "),o("div",{staticClass:"form-control"},[o("label",[e._v("验证码:")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.mobileCode,expression:"mobileCode"}],attrs:{type:"text",placeholder:"请输入手机验证码"},domProps:{value:e.mobileCode},on:{input:function(t){t.target.composing||(e.mobileCode=t.target.value)}}}),e._v(" "),o("a",{attrs:{href:"javascript:;"},on:{click:e.getMobileCode}},[e._v(e._s(e.message))])]),e._v(" "),o("div",[o("a",{staticClass:"confirm",attrs:{href:"javascript:;"},on:{click:e.login}},[e._v("确认")])])]),e._v(" "),o("div",{staticClass:"others"},[o("div",{staticClass:"text"},[e._v("社交账号登录")]),e._v(" "),o("i",{staticClass:"iconfont icon-wechat",on:{click:e.preWeiXinLogin}})])]),e._v(" "),o("bar-bottom")],1)},staticRenderFns:[]},e.exports.render._withStripped=!0}});
//# sourceMappingURL=7-3edcf14ad85beb4a48dc.min.js.map